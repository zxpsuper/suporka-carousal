<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title></title>
</head>

<body>
	<ul data-uid="ul"></ul>
	<input type="text" id="input">
	<p id="p"></p>
</body>

<script>
	let ul = document.querySelector(`[data-uid="ul"]`),
		docfrag = document.createDocumentFragment();

	const browserList = [
		"Internet Explorer",
		"Mozilla Firefox",
		"Safari",
		"Chrome",
		"Opera"
	];

	browserList.forEach((e) => {
		let li = document.createElement("li");
		li.textContent = e;
		docfrag.appendChild(li);
	});

	ul.appendChild(docfrag);
	var book = {
		_year: 2018,
		edition: 1
	};
	Object.defineProperty(book, "year", {
		get: function () {
			return this._year;
		},
		set: function (newVal) {
			if (newVal > 2008) {
				this._year = newVal;
				this.edition += newVal - 2008;
			}
		}
	});

	book.year = 2019;
	console.log(book._year);//2019
	console.log(book);//12
	const input = document.getElementById('input');
	const p = document.getElementById('p');
	const obj = {};

	const newObj = new Proxy(obj, {
		get: function (target, key, receiver) {
			console.log(`getting ${key}!`);
			return Reflect.get(target, key, receiver);
		},
		set: function (target, key, value, receiver) {
			console.log(target, key, value, receiver);
			if (key === 'text') {
				input.value = value;
				p.innerHTML = value;
			}
			return Reflect.set(target, key, value, receiver);
		},
	});

	input.addEventListener('keyup', function (e) {
		newObj.text = e.target.value;
	});

</script>
</body>

</html>